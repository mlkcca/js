{"version":3,"sources":["core/remote.js"],"names":["ajax","require","host","port","secure","headers","path","params","Promise","resolve","reject","request","JSON","stringify","err","data","content","qs","Object","keys","forEach","k"],"mappings":"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","file":"remote.js","sourcesContent":["var ajax = require('./ajax');\n\nexport default class {\n    constructor(host, port, secure, headers){\n    \tthis.host = host;\n    \tthis.port = port,\n    \tthis.secure = secure;\n    \tthis.headers = headers;\n    }\n\n\tpost(path, params) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.request('POST', this.secure, this.host, this.port, path, null, JSON.stringify(params), this.headers, function(err, data) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tif(data.err) {\n\t\t\t\t\treturn reject(data.err);\n\t\t\t\t}\n\t\t\t\tresolve(data.content);\n\t\t\t});\n\t\t});\n\t}\n\n\tget(path, params) {\n\t\t/*\n\t\tvar qs = {};\n\t\tObject.keys(params).forEach(function(k) {\n\t\t\tqs[k] = JSON.stringify(params[k]);\n\t\t})\n\t\t*/\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.request('GET', this.secure, this.host, this.port, path, params, null, this.headers, function(err, data) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tif(data.err) {\n\t\t\t\t\treturn reject(data.err);\n\t\t\t\t}\n\t\t\t\tresolve(data.content);\n\t\t\t});\n\t\t});\n\t}\n\n\tput(path, params) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.request('PUT', this.secure, this.host, this.port, path, null, JSON.stringify(params), this.headers, function(err, data) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tif(data.err) {\n\t\t\t\t\treturn reject(data.err);\n\t\t\t\t}\n\t\t\t\tresolve(data.content);\n\t\t\t});\n\t\t});\n\t}\n\n\tdelete(path, params) {\n\t\tvar qs = {};\n\t\tObject.keys(params).forEach(function(k) {\n\t\t\tqs[k] = JSON.stringify(params[k]);\n\t\t})\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.request('DELETE', this.secure, this.host, this.port, path, qs, null, this.headers, function(err, data) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tif(data.err) {\n\t\t\t\t\treturn reject(data.err);\n\t\t\t\t}\n\t\t\t\tresolve(data.content);\n\t\t\t});\n\t\t});\n\t}\n\n}"]}