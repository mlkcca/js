{"version":3,"sources":["core/datatypes/push.js"],"names":["message","type","json","text","binary","value","JSON","parse","v","e","id","timestamp","Math","floor","t"],"mappings":";;;;;;;;;;;AACC,mBAAc;AAAA;AACb;;;;yBAEaA,O,EAASC,I,EAAM;AAC5B,OAAGA,QAAQ,MAAX,EAAmB,OAAO,KAAKC,IAAL,CAAUF,OAAV,CAAP,CAAnB,KACK,IAAGC,QAAQ,MAAX,EAAmB,OAAO,KAAKE,IAAL,CAAUH,OAAV,CAAP,CAAnB,KACA,IAAGC,QAAQ,QAAX,EAAqB,OAAO,KAAKG,MAAL,CAAYJ,OAAZ,CAAP,CAArB,KACA,OAAO,KAAKG,IAAL,CAAUH,OAAV,CAAP;AACL;;;uBAEWA,O,EAAS;AACpB,OAAIK,QAAQ,IAAZ;AACA,OAAI;AACHA,YAAQC,KAAKC,KAAL,CAAWP,QAAQQ,CAAnB,CAAR;AACA,IAFD,CAEC,OAAMC,CAAN,EAAS;AAETJ,YAAQ,cAAR;AACA;AACD,UAAO;AACNK,QAAIV,QAAQU,EADN;AAENC,eAAWC,KAAKC,KAAL,CAAWb,QAAQc,CAAnB,CAFL;AAGNT,WAAOA;AAHD,IAAP;AAKA;;;uBAEWL,O,EAAS;AACpB,UAAOA,OAAP;AACA;;;yBAEaA,O,EAAS;AAEtB,UAAOA,OAAP;AACA","file":"push.js","sourcesContent":["export default class {\n\tconstructor() {\n\t}\n\n\tstatic decode(message, type) {\n\t\tif(type == 'json') return this.json(message);\n\t\telse if(type == 'text') return this.text(message);\n\t\telse if(type == 'binary') return this.binary(message);\n\t\telse return this.text(message);\n\t}\n\n\tstatic json(message) {\n\t\tlet value = null;\n\t\ttry {\n\t\t\tvalue = JSON.parse(message.v);\n\t\t}catch(e) {\n\t\t\t//JSON parse error\n\t\t\tvalue = 'invalid json';\n\t\t}\n\t\treturn {\n\t\t\tid: message.id,\n\t\t\ttimestamp: Math.floor(message.t),\n\t\t\tvalue: value\n\t\t}\n\t}\n\n\tstatic text(message) {\n\t\treturn message;\n\t}\n\n\tstatic binary(message) {\n\t\t//TODO\n\t\treturn message;\n\t}\n\n}\n"]}