{"version":3,"sources":["core/datastore.js"],"names":["socket","path","event","cb","onComplete","subscribe","value","options","publish"],"mappings":";;;;;;;;;;;AACC,iBAAYA,MAAZ,EAAoBC,IAApB,EAA0B;AAAA;;AACzB,OAAKD,MAAL,GAAcA,MAAd;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA;;;;qBAEEC,K,EAAOC,E,EAAIC,U,EAAY;AACzB,OAAGF,SAAS,MAAZ,EAAoB;AACnB,SAAKF,MAAL,CAAYK,SAAZ,CAAsB,KAAKJ,IAA3B,EAAiC,IAAjC,EAAuCE,EAAvC,EAA2CC,UAA3C;AACA;AACD;;;uBAEIE,K,EAAOC,O,EAASJ,E,EAAI;AACxB,OAAG,OAAOI,OAAP,KAAmB,UAAtB,EAAkC;AACjCJ,SAAKI,OAAL;AACA;AACD,QAAKP,MAAL,CAAYQ,OAAZ,CAAoB,KAAKP,IAAzB,EAA+B,IAA/B,EAAqCK,KAArC,EAA4CH,EAA5C;AACA","file":"datastore.js","sourcesContent":["export default class {\n\tconstructor(socket, path) {\n\t\tthis.socket = socket;\n\t\tthis.path = path;\n\t}\n\n\ton(event, cb, onComplete) {\n\t\tif(event == 'push') {\n\t\t\tthis.socket.subscribe(this.path, '_p', cb, onComplete);\n\t\t}\n\t}\n\n\tpush(value, options, cb) {\n\t\tif(typeof options === 'function') {\n\t\t\tcb = options;\n\t\t}\n\t\tthis.socket.publish(this.path, '_p', value, cb);\n\t}\n}\n"]}